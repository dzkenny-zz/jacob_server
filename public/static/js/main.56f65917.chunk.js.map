{"version":3,"sources":["assets/images/room.png","assets/images/join.png","models/common.ts","stores/app.ts","models/setting.ts","models/player.ts","models/room.ts","stores/game.ts","stores/audio.ts","stores/index.ts","utils/request.ts","actions/game.ts","pages/gamingRoom/info.tsx","pages/gamingRoom/gameBoard.tsx","pages/gamingRoom/index.tsx","pages/home/index.tsx","actions/app.ts","pages/login/index.tsx","pages/splash/index.tsx","pages/watingRoom/peopleList.tsx","pages/watingRoom/setting.tsx","pages/watingRoom/index.tsx","routers/index.tsx","App.tsx","reportWebVitals.ts","index.tsx","assets/images/spy.png"],"names":["ActionState","AppStore","socket","user","id","username","loginState","INITIAL","loading","setSocket","setUser","setLoginState","setLoading","extendObservable","this","Setting","data","blank","spy","isRandom","correct","wrong","parse","_","toJson","Player","avatar","status","identify","Room","players","setting","host","map","player","GameStore","room","refresh","winner","setRoom","setWinner","AudioStore","audio","setAudio","stores","appStore","gameStore","audioStore","storesContext","React","createContext","useStores","useContext","instance","Axios","create","baseURL","withCredentials","request","option","a","resp","initGamingRoomListener","history","method","url","gameResp","on","end","playerId","find","InfoComponent","observer","currentPlayerInfo","currentIdetify","answer","blankNum","length","spyNum","className","Typography","gutterBottom","variant","component","GameBoardComponent","require","default","useHistory","useState","selectedPlayer","setSelectedPlayer","showPlayerDialog","setShowPlayerDialog","Card","onClick","onSelectPlayer","CardContent","Avatar","Dialog","open","DialogTitle","DialogContent","DialogActions","Button","color","emit","reportPlayer","SpyImg","GamingRoomPage","useEffect","off","removeGamingRoomListener","src","replace","backWaitingRoom","RoomImg","JoinImg","HomePage","showJoinDialog","setShowJoinDialog","joinRoomId","setJoinRoomId","createGameRoom","TextField","title","value","onChange","event","target","roomId","joinGameRoom","init","ws","websocket","saveUsername","IN_PROGRESS","SUCCESS","FAILURE","alert","LoginPage","setUsername","disabled","fullWidth","label","e","CardActions","size","SplashPage","PeopleListComponent","isHost","List","index","ListItem","ListItemAvatar","ListItemText","primary","secondary","ListItemSecondaryAction","IconButton","edge","updateHost","style","genMenuItems","key","MenuItem","SettingComponent","setCorrect","setWrong","FormControl","InputLabel","Select","number","updateSpyNumber","updateBlankNumber","FormControlLabel","control","Switch","checked","updateIsRandom","name","quitRoom","startGame","WaitingRoomPage","push","filter","initWaitingRoomListener","removeWaitingRoomListener","Router","exact","path","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.56f65917.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/room.605bbc46.png\";","export default __webpack_public_path__ + \"static/media/join.796b7e05.png\";","import { Socket } from \"socket.io-client\";\r\n\r\nexport enum ActionState  {\r\n    INITIAL = 'INITIAL',\r\n    IN_PROGRESS = 'IN_PROGRESS',\r\n    SUCCESS = 'SUCCESS',\r\n    FAILURE = 'FAILURE'\r\n}\r\n\r\nexport type Socket = typeof Socket;","import { extendObservable } from 'mobx';\r\nimport * as _ from 'lodash';\r\nimport { ActionState, Socket } from '../models/common';\r\nimport { User } from '../models/user';\r\n\r\n\r\nexport class AppStore {\r\n    socket? : Socket;\r\n    user: User = {\r\n        id: '',\r\n        username: ''\r\n    };\r\n    loginState: ActionState = ActionState.INITIAL;\r\n    loading: boolean = false;\r\n\r\n    constructor() {\r\n        extendObservable(this, {\r\n            socket: null,\r\n            user: {\r\n                id: '',\r\n                username: ''\r\n            },\r\n            loginState: ActionState.INITIAL,\r\n            loading: false\r\n        });\r\n    }\r\n\r\n    setSocket = (socket: Socket) => {\r\n        this.socket = socket;\r\n    }\r\n\r\n    setUser = (user: User) => {\r\n        this.user = user;\r\n    }\r\n\r\n    setLoginState = (loginState: ActionState) => {\r\n        this.loginState = loginState;\r\n    }\r\n\r\n    setLoading = (loading: boolean) => {\r\n        this.loading = loading;\r\n    }\r\n}\r\n\r\nexport default AppStore;\r\n","import * as _ from 'lodash';\r\n\r\nexport class Setting {\r\n    blank: number = 1;\r\n    spy: number = 1;\r\n    isRandom: boolean = true;\r\n    correct: string = '';\r\n    wrong: string = '';\r\n\r\n    constructor(data: Partial<Setting>) {\r\n        this.parse(data);\r\n    }\r\n\r\n    parse = (data: Partial<Setting>) => {\r\n        this.blank = _.get(data, 'blank', 1);\r\n        this.spy = _.get(data, 'spy', 1);\r\n        this.isRandom = _.get(data, 'isRandom', false);\r\n        this.correct = _.get(data, 'correct', '');\r\n        this.wrong = _.get(data, 'wrong', '');\r\n    }\r\n\r\n    toJson = () => {\r\n        return {\r\n            blank: this.blank,\r\n            spy: this.spy,\r\n            isRandom: this.isRandom,\r\n            correct: this.correct,\r\n            wrong: this.wrong\r\n        }\r\n    }\r\n}","export class Player {\r\n    id: string = '';\r\n    username: string = '';\r\n    avatar: string = '';\r\n    status?: string = '';\r\n    identify?: string = '';\r\n\r\n    constructor(data: Partial<Player>) {\r\n        this.parse(data);\r\n    }\r\n\r\n    parse = (data: Partial<Player>) => {\r\n        this.id = data.id || '';\r\n        this.username = data.username || '';\r\n        this.avatar = data.avatar || '';\r\n        this.status = data.status || '';\r\n        this.identify = data.identify || '';\r\n    }\r\n\r\n    toJson = () => {\r\n        return {\r\n            id: this.id,\r\n            username: this.username,\r\n            avatar: this.avatar,\r\n            status: this.status,\r\n            identify: this.identify\r\n        }\r\n    }\r\n}","import { Setting } from \"./setting\";\r\nimport { Player } from \"./player\";\r\nimport * as _ from 'lodash';\r\n\r\nexport class Room {\r\n    id: string = '';\r\n    status: 'waiting' | 'progress' | 'end' = 'waiting';\r\n    players: Player[] = [];\r\n    setting: Setting = new Setting({});\r\n    host: string = '';\r\n\r\n    constructor(data: Partial<Room>) {\r\n        this.parse(data);\r\n    }\r\n\r\n    parse = (data: Partial<Room>) => {\r\n        this.id = data.id || '';\r\n        this.status = data.status || 'waiting';\r\n        this.players = (data.players || []).map(player => new Player(player));\r\n        this.setting = new Setting(data.setting || {});\r\n        this.host = data.host || '';\r\n    }\r\n\r\n    toJson = () => {\r\n        return {\r\n            id: this.id,\r\n            status: this.status,\r\n            host: this.host,\r\n            players: this.players.map(player => player.toJson()),\r\n            setting: this.setting.toJson()\r\n        };\r\n    }\r\n}","import { extendObservable } from 'mobx';\r\nimport * as _ from 'lodash';\r\nimport { Room } from '../models/room';\r\n\r\nexport class GameStore {\r\n    room: Room = new Room({});\r\n    refresh: boolean = false;\r\n    winner: string = '';\r\n\r\n    constructor() {\r\n        extendObservable(this, {\r\n            room: new Room({}),\r\n            refresh: false,\r\n            winner: ''\r\n        });\r\n    }\r\n\r\n    setRoom = (room: Room) => {\r\n        this.room = room;\r\n        this.refresh = !this.refresh;\r\n    }\r\n\r\n    setWinner = (winner: string) => {\r\n        this.winner = winner;\r\n    }\r\n}\r\n\r\nexport default GameStore;\r\n","import { extendObservable } from 'mobx';\r\nimport * as _ from 'lodash';\r\n\r\nexport class AudioStore {\r\n    audio: any;\r\n\r\n    constructor() {\r\n        extendObservable(this, {\r\n            audio: null,\r\n        });\r\n    }\r\n\r\n    setAudio = (audio: any) => {\r\n        this.audio = audio;\r\n    }\r\n}\r\n\r\nexport default AudioStore;\r\n","import React from 'react';\r\nimport AppStore from './app';\r\nimport GameStore from './game';\r\nimport AudioStore from './audio';\r\n\r\nconst stores = {\r\n    appStore: new AppStore(),\r\n    gameStore: new GameStore(),\r\n    audioStore: new AudioStore()\r\n};\r\n\r\nexport const storesContext = React.createContext(stores);\r\n\r\nexport const useStores = () => React.useContext(storesContext);\r\n\r\nexport type Stores = typeof stores;","import Axios, { AxiosRequestConfig } from 'axios';\r\n\r\nconst instance = Axios.create({\r\n    baseURL: '/',\r\n    withCredentials: true\r\n});\r\n\r\nexport const request = async (option: AxiosRequestConfig) => {\r\n    const resp = await instance(option);\r\n    return resp.data;\r\n}","import { History } from 'history';\r\nimport { Stores } from '../stores';\r\nimport * as _ from 'lodash';\r\nimport { Room } from '../models/room';\r\nimport { Setting } from '../models/setting';\r\nimport { Player } from '../models/player';\r\nimport { Socket } from 'socket.io-client';\r\nimport { request } from '../utils/request';\r\n\r\ntype CreateGameRoom = {\r\n    stores: Stores,\r\n    history: History\r\n}\r\n\r\ntype JoinGameRoom = {\r\n    stores: Stores,\r\n    history: History,\r\n    roomId: string\r\n}\r\n\r\ntype UpdateSpyNumber = {\r\n    stores: Stores,\r\n    number: number\r\n}\r\n\r\ntype UpdateBlankNumber = {\r\n    stores: Stores,\r\n    number: number\r\n}\r\n\r\ntype UpdateIsRandom = {\r\n    stores: Stores,\r\n    isRandom: boolean\r\n}\r\n\r\ntype InitWaitingRoomListener = {\r\n    stores: Stores,\r\n    history: History\r\n}\r\n\r\ntype RemoveWaitingRoomListener = {\r\n    stores: Stores\r\n}\r\n\r\ntype UpdateHost = {\r\n    stores: Stores,\r\n    host: string\r\n}\r\n\r\ntype QuitRoom = {\r\n    stores: Stores,\r\n    history: History\r\n}\r\n\r\ntype StartGame = {\r\n    stores: Stores,\r\n    correct: string,\r\n    wrong: string\r\n}\r\n\r\ntype ReportPlayer = {\r\n    stores: Stores,\r\n    playerId: string\r\n}\r\n\r\ntype BackWaitingRoom = {\r\n    stores: Stores,\r\n    history: History\r\n}\r\n\r\nexport const createGameRoom = ({ stores, history }: CreateGameRoom) => {\r\n    stores.appStore.setLoading(true);\r\n    const socket = stores.appStore.socket;\r\n    socket?.emit(\"/game/create\");\r\n    socket?.on('/game/create', (room: Room) => {\r\n        stores.appStore.setLoading(false);\r\n        stores.gameStore.setRoom(room);\r\n        history.replace('/waiting-room');\r\n    })\r\n}\r\n\r\nexport const joinGameRoom = ({ stores, history, roomId }: JoinGameRoom) => {\r\n    stores.appStore.setLoading(true);\r\n    const socket = stores.appStore.socket;\r\n    socket?.emit(\"/game/join\", roomId);\r\n    socket?.on('/game/join/all', (room: Room) => {\r\n        stores.appStore.setLoading(false);\r\n        stores.gameStore.setRoom(room);\r\n        history.replace('/waiting-room');\r\n    })\r\n}\r\n\r\nexport const updateSpyNumber = ({ stores, number }: UpdateSpyNumber) => {\r\n    const { socket } = stores.appStore;\r\n    socket?.emit('/game/setting/spy', number);\r\n}\r\n\r\nexport const updateBlankNumber = ({ stores, number }: UpdateBlankNumber) => {\r\n    const { socket } = stores.appStore;\r\n    socket?.emit('/game/setting/blank', number);\r\n}\r\n\r\nexport const updateIsRandom = ({ stores, isRandom }: UpdateIsRandom) => {\r\n    const { socket } = stores.appStore;\r\n    socket?.emit('/game/setting/isRandom', isRandom);\r\n}\r\n\r\nexport const updateHost = ({ stores, host }: UpdateHost) => {\r\n    const socket = stores.appStore.socket;\r\n    socket?.emit('/game/host', host);\r\n}\r\n\r\nexport const quitRoom = ({ stores, history }: QuitRoom) => {\r\n    const socket = stores.appStore.socket;\r\n\r\n    socket?.emit('/game/quit', stores.appStore.user.id);\r\n    stores.gameStore.setRoom(new Room({}));\r\n    history.replace('/home');\r\n}\r\n\r\nexport const initWaitingRoomListener = ({ stores, history }: InitWaitingRoomListener) => {\r\n    const { socket } = stores.appStore;\r\n    stores.gameStore.setWinner('');\r\n\r\n    socket?.on('/game/setting', (setting: Setting) => {\r\n        const { room, setRoom } = stores.gameStore;\r\n        room.setting = new Setting(setting);\r\n        setRoom(room);\r\n    });\r\n\r\n    socket?.on('/game/join', (player: Player) => {\r\n        const { room, setRoom } = stores.gameStore;\r\n        room.players.push(new Player(player));\r\n        setRoom(room);\r\n    });\r\n\r\n    socket?.on('/game/quit', (resp: any) => {\r\n        const { room, setRoom } = stores.gameStore;\r\n        const { playerId, host } = resp;\r\n        room.players = room.players.filter(player => player.id !== playerId);\r\n        room.host = host;\r\n        setRoom(room);\r\n    });\r\n\r\n    socket?.on('/game/host', (host: string) => {\r\n        const { room, setRoom } = stores.gameStore;\r\n        room.host = host;\r\n        setRoom(room);\r\n    });\r\n\r\n    socket?.on('/game/start', () => {\r\n        history.replace('/gaming-room');\r\n    });\r\n}\r\n\r\nexport const removeWaitingRoomListener = ({ stores }: RemoveWaitingRoomListener) => {\r\n    const { socket } = stores.appStore;\r\n\r\n    socket?.off('/game/setting');\r\n    socket?.off('/game/join');\r\n    socket?.off('/game/quit');\r\n    socket?.off('/game/host');\r\n    socket?.off('/game/start');\r\n}\r\n\r\nexport const startGame = ({ stores, correct, wrong }: StartGame) => {\r\n    const { room } = stores.gameStore;\r\n    if ((room.players.length - (room.setting.isRandom ? 0 : 1)) <= room.setting.blank + room.setting.spy) {\r\n        return alert('白板及臥底人數不能少於或等於玩家人數');\r\n    }\r\n\r\n    const { socket } = stores.appStore;\r\n    socket?.emit('/game/start', { correct, wrong });\r\n}\r\n\r\nexport const initGamingRoomListener = async ({ stores, history }: InitWaitingRoomListener) => {\r\n    // refresh room first\r\n    const gameResp = await request({\r\n        method: 'GET',\r\n        url: 'room'\r\n    });\r\n\r\n    const room = new Room(gameResp.room);\r\n    stores.gameStore.setRoom(room);\r\n\r\n    const { socket } = stores.appStore;\r\n    socket?.on('/game/report', (resp: any) => {\r\n        const { end, playerId, winner } = resp;\r\n        const { room, setRoom } = stores.gameStore;\r\n        const player = room.players.find(player => player.id === playerId);\r\n        if (player) {\r\n            player.status = 'dead';\r\n        }\r\n        \r\n        if (end) {\r\n            room.status = 'end';\r\n        }\r\n        \r\n        setRoom(room);\r\n        \r\n        if (winner) {\r\n            stores.gameStore.setWinner(winner);\r\n        }\r\n    })\r\n}\r\n\r\nexport const removeGamingRoomListener = ({ stores }: RemoveWaitingRoomListener) => {\r\n    const { socket } = stores.appStore;\r\n    socket?.off('/game/report')\r\n}\r\n\r\nexport const reportPlayer = ({ stores, playerId }: ReportPlayer) => {\r\n    const { socket } = stores.appStore;\r\n    socket?.emit('/game/report', playerId);\r\n}\r\n\r\nexport const backWaitingRoom = ({ stores, history }: BackWaitingRoom) => {\r\n    stores.gameStore.setWinner('');\r\n    history.replace('/waiting-room');\r\n}","import { observer } from 'mobx-react';\r\nimport React from 'react';\r\nimport { Typography } from '@material-ui/core';\r\nimport './styles.css';\r\nimport { useStores } from '../../stores';\r\nimport * as _ from 'lodash';\r\n\r\nconst InfoComponent = observer(() => {\r\n    const stores = useStores();\r\n    const { user } = stores.appStore;\r\n    const { room, refresh } = stores.gameStore;\r\n    const { players, setting } = room;\r\n    const { wrong, correct } = setting;\r\n\r\n    const currentPlayerInfo = players.find(player => player.id === user.id);\r\n    const currentIdetify = currentPlayerInfo?.identify;\r\n    const answer = currentIdetify === 'spy' ? wrong : correct;\r\n\r\n    const blankNum = setting.blank - _.filter(players, player => player.identify === 'blank' && player.status === 'dead').length;\r\n    const spyNum = setting.spy - _.filter(players, player => player.identify === 'spy' && player.status === 'dead').length;\r\n\r\n    return (\r\n        <div className=\"gaming-info-content\">\r\n            {refresh}\r\n            <Typography className=\"title\" gutterBottom variant=\"h6\" component=\"h2\">\r\n                {\r\n                    currentIdetify === 'blank' ? '你係白板' :\r\n                        `題目: ${answer}`\r\n                }\r\n            </Typography>\r\n            <Typography className=\"title\" gutterBottom variant=\"body1\" component=\"h2\">\r\n                淨餘白板數量: {blankNum}\r\n            </Typography>\r\n            <Typography className=\"title\" gutterBottom variant=\"body1\" component=\"h2\">\r\n                淨餘臥底數量: {spyNum}\r\n            </Typography>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default InfoComponent;","import { observer } from 'mobx-react';\r\nimport React, { useState } from 'react';\r\nimport { Card, CardContent, Typography, Avatar, Button, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport './styles.css';\r\nimport { useStores } from '../../stores';\r\nimport { useHistory } from 'react-router';\r\nimport { reportPlayer } from '../../actions/game';\r\nimport * as _ from 'lodash';\r\nimport { Player } from '../../models/player';\r\nimport AdminIcon from '@material-ui/icons/Star';\r\n\r\nconst SpyImg = require('../../assets/images/spy.png').default;\r\n\r\nconst GameBoardComponent = observer(() => {\r\n    const stores = useStores();\r\n    const history = useHistory();\r\n\r\n    const [selectedPlayer, setSelectedPlayer] = useState<Player | null>(null);\r\n    const [showPlayerDialog, setShowPlayerDialog] = useState(false);\r\n    const { user } = stores.appStore;\r\n    const { room, refresh } = stores.gameStore;\r\n    const { host, players, setting } = room;\r\n    const isHost = user.id === host;\r\n\r\n    const onSelectPlayer = (player: Player) => {\r\n        if (player.status === 'dead' || (!setting.isRandom && player.identify === 'host')) {\r\n            return;\r\n        }\r\n        \r\n        setSelectedPlayer(player);\r\n        setShowPlayerDialog(true);\r\n    }\r\n\r\n    const onCancelDialog = () => {\r\n        setSelectedPlayer(null);\r\n        setShowPlayerDialog(false);\r\n    }\r\n\r\n    const onReportPlayer = () => {\r\n        setShowPlayerDialog(false);\r\n        reportPlayer({\r\n            stores,\r\n            playerId: selectedPlayer ? selectedPlayer.id : ''\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div className=\"gaming-card-content\">\r\n            {\r\n                players.map(player => (\r\n                    <Card key={`card-${player.id}`} className=\"person-card\" onClick={() => onSelectPlayer(player)}>\r\n                        <CardContent className=\"person-card-content\">\r\n                            <div className=\"person-avatar\">\r\n                                {\r\n                                    player.status === 'dead' ?\r\n                                        (<div className=\"status-layer\">\r\n                                            {\r\n                                                player.identify === 'spy' ? '臥底' :\r\n                                                    player.identify === 'blank' ? '白板' :\r\n                                                        '普通人'\r\n                                            }\r\n                                        </div>) : null\r\n                                }\r\n                                {\r\n                                    player.id === host ? <AdminIcon className=\"admin-icon\" /> : null\r\n                                }\r\n                                <Avatar>\r\n                                    <PersonIcon />\r\n                                </Avatar>\r\n                            </div>\r\n                            <Typography gutterBottom variant=\"body1\" component=\"h2\">\r\n                                {player.username}\r\n                            </Typography>\r\n                            <Typography gutterBottom variant=\"body2\" component=\"h2\">\r\n                                {player.status === 'alive' ? '生存' : '陣亡'}\r\n                            </Typography>\r\n                        </CardContent>\r\n                    </Card>\r\n                ))\r\n            }\r\n            <Dialog open={showPlayerDialog}>\r\n                <DialogTitle>是否確認此玩家</DialogTitle>\r\n                <DialogContent>\r\n                    <Typography className=\"title\" gutterBottom variant=\"body1\" component=\"h2\">\r\n                        {selectedPlayer?.username}\r\n                    </Typography>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={onCancelDialog} color=\"primary\">取消</Button>\r\n                    <Button onClick={onReportPlayer} color=\"primary\">確定</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default GameBoardComponent;","import { observer } from 'mobx-react';\r\nimport React, { useEffect } from 'react';\r\nimport { Card, CardContent, Typography, Avatar, Button, Dialog, DialogTitle, DialogContent, DialogActions } from '@material-ui/core';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport './styles.css';\r\nimport { useStores } from '../../stores';\r\nimport { useHistory } from 'react-router';\r\nimport { backWaitingRoom, initGamingRoomListener, removeGamingRoomListener, reportPlayer } from '../../actions/game';\r\nimport * as _ from 'lodash';\r\nimport { Player } from '../../models/player';\r\nimport InfoComponent from './info';\r\nimport GameBoardComponent from './gameBoard';\r\n\r\nconst SpyImg = require('../../assets/images/spy.png').default;\r\n\r\nconst GamingRoomPage = observer(() => {\r\n    const stores = useStores();\r\n    const history = useHistory();\r\n\r\n    const { room, refresh, winner } = stores.gameStore;\r\n    const { id } = room;\r\n\r\n    const onBack = () => {\r\n        backWaitingRoom({\r\n            stores, history\r\n        });\r\n    }\r\n\r\n    useEffect(() => {\r\n        initGamingRoomListener({ stores, history });\r\n\r\n        return removeGamingRoomListener({ stores });\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"page\">\r\n            {refresh}\r\n            <Card className=\"card\">\r\n                <CardContent>\r\n                    <div className=\"toolbar\">\r\n                        <Typography className=\"title\" gutterBottom variant=\"h5\" component=\"h2\">遊玩房間 #{id}</Typography>\r\n                        <img src={SpyImg} className=\"logo\" />\r\n                    </div>\r\n                    <div className=\"waiting-content\">\r\n                        <GameBoardComponent />\r\n                        <InfoComponent />\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n            <Dialog open={!!winner}>\r\n                <DialogTitle>遊戲完結</DialogTitle>\r\n                <DialogContent>\r\n                    <Typography className=\"title\" gutterBottom variant=\"body1\" component=\"h2\">\r\n                        {winner === 'spy' ? '臥底' : winner === 'blank' ? '白板' : '普通人' }\r\n                    </Typography>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={onBack} color=\"primary\">返回</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default GamingRoomPage;","import { observer } from 'mobx-react';\r\nimport React, { useState } from 'react';\r\nimport { Button, Card, CardContent, Dialog, DialogActions, DialogContent, DialogTitle, TextField, Typography } from '@material-ui/core';\r\nimport './styles.css';\r\nimport { useStores } from '../../stores';\r\nimport { useHistory } from 'react-router';\r\nimport { createGameRoom, joinGameRoom } from '../../actions/game';\r\n\r\nconst SpyImg = require('../../assets/images/spy.png').default;\r\nconst RoomImg = require('../../assets/images/room.png').default;\r\nconst JoinImg = require('../../assets/images/join.png').default;\r\n\r\nconst HomePage = observer(() => {\r\n    const stores = useStores();\r\n    const history = useHistory();\r\n\r\n    const [showJoinDialog, setShowJoinDialog] = useState(false);\r\n    const [joinRoomId, setJoinRoomId] = useState('');\r\n\r\n    const onCreateRoom = () => {\r\n        createGameRoom({ stores, history });\r\n    }\r\n\r\n    const onShowJoinDialog = () => {\r\n        setShowJoinDialog(true);\r\n    }\r\n\r\n    const onCancelJoin = () => {\r\n        setShowJoinDialog(false);\r\n        setJoinRoomId('');\r\n    }\r\n\r\n    const onJoinRoom = () => {\r\n        joinGameRoom({ stores, history, roomId: joinRoomId });\r\n    }\r\n\r\n    const onJoinRoomIdChange = (event: any) => {\r\n        setJoinRoomId(event.target.value)\r\n    }\r\n\r\n    return (\r\n        <div className=\"page\">\r\n            <Card className=\"card\">\r\n                <CardContent>\r\n                    <div className=\"toolbar\">\r\n                        <Typography className=\"title\" gutterBottom variant=\"h5\" component=\"h2\">歡迎遊玩 \"誰是臥底\"</Typography>\r\n                        <img src={SpyImg} className=\"logo\" />\r\n                    </div>\r\n                    <div className=\"content\">\r\n                        <div className=\"button-container\" onClick={onCreateRoom}>\r\n                            <img src={RoomImg} className=\"button-img\" />\r\n                            <Typography className=\"button-text\" gutterBottom variant=\"h5\" component=\"h2\">創建房間</Typography>\r\n                        </div>\r\n                        <div className=\"button-container\" onClick={onShowJoinDialog}>\r\n                            <img src={JoinImg} className=\"button-img\" />\r\n                            <Typography className=\"button-text\" gutterBottom variant=\"h5\" component=\"h2\">參與房間</Typography>\r\n                        </div>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n            <Dialog open={showJoinDialog}>\r\n                <DialogTitle>請輸入房間編號</DialogTitle>\r\n                <DialogContent>\r\n                    <TextField\r\n                        title=\"房間編號\"\r\n                        value={joinRoomId}\r\n                        onChange={onJoinRoomIdChange}\r\n                    />\r\n                </DialogContent>\r\n                <DialogActions>\r\n                    <Button onClick={onCancelJoin} color=\"primary\">取消</Button>\r\n                    <Button onClick={onJoinRoom} color=\"primary\">參與</Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default HomePage;","import { History } from 'history';\r\nimport { Stores } from '../stores';\r\nimport * as _ from 'lodash';\r\nimport websocket from 'socket.io-client';\r\nimport { ActionState, Socket } from '../models/common';\r\nimport { request } from '../utils/request';\r\nimport { Player } from '../models/player';\r\nimport { Room } from '../models/room';\r\nimport { Setting } from '../models/setting';\r\n\r\ntype Init = {\r\n    stores: Stores,\r\n    history: History\r\n}\r\n\r\ntype saveUsername = {\r\n    stores: Stores,\r\n    history: History,\r\n    username: string\r\n}\r\n\r\nexport const init = async ({ stores, history }: Init) => {\r\n    // generate user id and username\r\n    const resp = await request({\r\n        method: 'POST',\r\n        url: 'login'\r\n    });\r\n\r\n    const ws: Socket = websocket('http://58.82.192.33/');\r\n    stores.appStore.setSocket(ws);\r\n    stores.appStore.setUser({\r\n        id: resp.id,\r\n        username: resp.username\r\n    });\r\n\r\n    if (!resp.username) {\r\n        return history.replace('/login');\r\n    }\r\n\r\n    const gameResp = await request({\r\n        method: 'GET',\r\n        url: 'room'\r\n    });\r\n\r\n    if (!gameResp.room) {\r\n        return history.replace('/home');\r\n    }\r\n    else {\r\n        const room = new Room(gameResp.room);\r\n        stores.gameStore.setRoom(room);\r\n        if (room.status === 'progress') {\r\n            return history.replace('/gaming-room');\r\n        }\r\n        else {\r\n            return history.replace('/waiting-room');\r\n        }\r\n    }\r\n\r\n\r\n    // stores.appStore.setUser({\r\n    //     id: '160862470213998',\r\n    //     username: 'kenny'\r\n    // });\r\n\r\n    // stores.gameStore.setRoom(new Room({\r\n    //     id: \"697\",\r\n    //     status: \"progress\",\r\n    //     host: \"160862470213998\",\r\n    //     players: [\r\n    //         new Player({\r\n    //             id: \"160862470213998\",\r\n    //             username: \"kenny\",\r\n    //             avatar: \"\",\r\n    //             status: \"dead\",\r\n    //             identify: \"spy\"\r\n    //         }),\r\n    //         new Player({\r\n    //             id: \"160862474464887\",\r\n    //             username: \"json\",\r\n    //             avatar: \"\",\r\n    //             status: \"alive\",\r\n    //             identify: \"normal\"\r\n    //         })\r\n    //     ],\r\n    //     setting: new Setting({\r\n    //         blank: 0,\r\n    //         spy: 1,\r\n    //         isRandom: false,\r\n    //         correct: \"聖誕樹\",\r\n    //         wrong: \"大樹\"\r\n    //     })\r\n    // }));\r\n    // return history.replace('/gaming-room');\r\n}\r\n\r\nexport const saveUsername = async ({ stores, history, username }: saveUsername) => {\r\n    stores.appStore.setLoginState(ActionState.IN_PROGRESS);\r\n    try {\r\n        const resp = await request({\r\n            method: 'POST',\r\n            url: 'login',\r\n            data: {\r\n                username\r\n            }\r\n        });\r\n\r\n        stores.appStore.setUser({\r\n            id: resp.id,\r\n            username: resp.username\r\n        });\r\n        stores.appStore.setLoginState(ActionState.SUCCESS);\r\n        history.replace('/home');\r\n    } catch (error) {\r\n        stores.appStore.setLoginState(ActionState.FAILURE);\r\n        return alert('伺服器錯誤');\r\n    }\r\n}\r\n","import React, { useState } from 'react';\r\nimport { Button, Card, CardActions, CardContent, Typography, TextField } from '@material-ui/core';\r\nimport './styles.css';\r\nimport { useHistory } from 'react-router';\r\nimport { useStores } from '../../stores';\r\nimport { saveUsername } from '../../actions/app';\r\nimport { ActionState } from '../../models/common';\r\nconst SpyImg = require('../../assets/images/spy.png').default;\r\n\r\n\r\nconst LoginPage = () => {\r\n    const stores = useStores();\r\n    const history = useHistory();\r\n\r\n    const [username, setUsername] = useState('');\r\n\r\n    const handleUsernameChange = (event: any) => {\r\n        setUsername(event.target.value);\r\n    }\r\n\r\n    const onSave = () => {\r\n        saveUsername({ stores, history, username });\r\n    }\r\n\r\n    const disabled = stores.appStore.loginState === ActionState.IN_PROGRESS;\r\n\r\n    return (\r\n        <div className=\"page\">\r\n            <Card className=\"card\">\r\n                <CardContent>\r\n                    <div className=\"toolbar\">\r\n                    <Typography className=\"title\" gutterBottom variant=\"h5\" component=\"h2\">歡迎遊玩 \"誰是臥底\"</Typography>\r\n                        <img src={SpyImg} className=\"logo\" />\r\n                    </div>\r\n                    <TextField\r\n                        fullWidth\r\n                        label=\"用戶名稱\"\r\n                        value={username}\r\n                        disabled={disabled}\r\n                        onChange={(e) => handleUsernameChange(e)}\r\n                    />\r\n                </CardContent>\r\n                <CardActions className=\"footer\">\r\n                    <Button disabled={disabled} size=\"small\" color=\"primary\" onClick={onSave}>確認</Button>\r\n                </CardActions>\r\n            </Card>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default LoginPage;","import React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router';\r\nimport { init } from '../../actions/app';\r\nimport ChurchImg from '../../assets/images/church.jpg';\r\nimport { useStores } from '../../stores';\r\nimport './styles.css';\r\n\r\nfunction SplashPage() {\r\n    const history = useHistory();\r\n    const stores = useStores();\r\n\r\n    useEffect(() => {\r\n        init({ stores, history });\r\n    }, []);\r\n\r\n    return (\r\n        <div className={'container'}>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default SplashPage;","import { observer } from 'mobx-react';\r\nimport React, { useEffect } from 'react';\r\nimport { List, Typography, ListItem, ListItemAvatar, Avatar, ListItemText, ListItemSecondaryAction, IconButton } from '@material-ui/core';\r\nimport PersonIcon from '@material-ui/icons/Person';\r\nimport AdminIcon from '@material-ui/icons/Star';\r\nimport './styles.css';\r\nimport { useStores } from '../../stores';\r\nimport { useHistory } from 'react-router';\r\nimport { updateHost } from '../../actions/game';\r\n\r\nconst PeopleListComponent = observer(() => {\r\n    const stores = useStores();\r\n    const history = useHistory();\r\n\r\n    const { user } = stores.appStore;\r\n    const { room, refresh } = stores.gameStore;\r\n    const { host, players } = room;\r\n    const isHost = user.id === host;\r\n\r\n    const onHostChange = (playerId: string) => {\r\n        if (playerId === user.id) {\r\n            return;\r\n        }\r\n\r\n        updateHost({ stores, host: playerId });\r\n    }\r\n\r\n    return (\r\n        <div className=\"room-content-container\">\r\n            {refresh}\r\n            <Typography className=\"title\" gutterBottom variant=\"body1\" component=\"h2\">玩家人數: {players.length}</Typography>\r\n            <List>\r\n                {\r\n                    players.map((player, index) => (\r\n                        <ListItem key={`player-${index}`}>\r\n                            <ListItemAvatar>\r\n                                <Avatar>\r\n                                    <PersonIcon />\r\n                                </Avatar>\r\n                            </ListItemAvatar>\r\n                            <ListItemText primary={player.username} secondary={`${player.id}`} />\r\n                            {\r\n                                (isHost || player.id === host) ? (\r\n                                    <ListItemSecondaryAction>\r\n                                        <IconButton edge=\"end\" onClick={() => onHostChange(player.id)}>\r\n                                            <AdminIcon style={{ color: player.id === host ? 'yellow' : 'grey' }} />\r\n                                        </IconButton>\r\n                                    </ListItemSecondaryAction>\r\n                                ) : null\r\n                            }\r\n\r\n                        </ListItem>\r\n                    ))\r\n                }\r\n            </List>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default PeopleListComponent;","import { observer } from 'mobx-react';\r\nimport React, { useState } from 'react';\r\nimport { Typography, Select, MenuItem, InputLabel, FormControl, Button, FormControlLabel, Switch, TextField } from '@material-ui/core';\r\nimport './styles.css';\r\nimport { useStores } from '../../stores';\r\nimport { useHistory } from 'react-router';\r\nimport { quitRoom, updateBlankNumber, updateHost, updateSpyNumber, startGame, updateIsRandom } from '../../actions/game';\r\n\r\nconst genMenuItems = (key: string) => {\r\n    return [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10].map(index => (\r\n        <MenuItem key={`${key}-${index}`} value={index}>{index}</MenuItem>\r\n    ));\r\n}\r\n\r\nconst SettingComponent = observer(() => {\r\n    const stores = useStores();\r\n    const history = useHistory();\r\n\r\n    const [correct, setCorrect] = useState('');\r\n    const [wrong, setWrong] = useState('');\r\n\r\n    const { user } = stores.appStore;\r\n    const { room, refresh } = stores.gameStore;\r\n    const { host, setting } = room;\r\n    const isHost = user.id === host;\r\n\r\n    const handleSpyChange = (event: any) => {\r\n        updateSpyNumber({\r\n            stores,\r\n            number: event.target.value\r\n        });\r\n    }\r\n\r\n    const handleBlankChange = (event: any) => {\r\n        updateBlankNumber({\r\n            stores,\r\n            number: event.target.value\r\n        });\r\n    }\r\n\r\n    const handleIsRandomChange = (event: any) => {\r\n        if (!isHost) {\r\n            return;\r\n        }\r\n\r\n        updateIsRandom({\r\n            stores,\r\n            isRandom: event.target.checked\r\n        });\r\n    }\r\n\r\n    const onQuit = () => {\r\n        quitRoom({ stores, history });\r\n    }\r\n\r\n    const onStart = () => {\r\n        startGame({ stores, correct, wrong });\r\n    }\r\n\r\n    const onCorrectChange = (event: any) => {\r\n        setCorrect(event.target.value)\r\n    }\r\n\r\n    const onWrongChange = (event: any) => {\r\n        setWrong(event.target.value);\r\n    }\r\n\r\n    return (\r\n        <div className=\"room-content-container\">\r\n            {refresh}\r\n            <div className=\"padding12\">\r\n                <Typography gutterBottom variant=\"h5\" component=\"h2\">遊戲設定</Typography>\r\n                <div className=\"setting-field-content\">\r\n                    <FormControl variant=\"outlined\" fullWidth className=\"setting-field\">\r\n                        <InputLabel className=\"label\">臥底人數</InputLabel>\r\n                        <Select\r\n                            disabled={!isHost}\r\n                            value={setting.spy}\r\n                            onChange={handleSpyChange}\r\n                        >\r\n                            {genMenuItems('spy')}\r\n                        </Select>\r\n                    </FormControl>\r\n                    <FormControl variant=\"outlined\" fullWidth className=\"setting-field\">\r\n                        <InputLabel className=\"label\">白板人數</InputLabel>\r\n                        <Select\r\n                            disabled={!isHost}\r\n                            value={setting.blank}\r\n                            onChange={handleBlankChange}\r\n                        >\r\n                            {genMenuItems('blank')}\r\n                        </Select>\r\n                    </FormControl>\r\n                    <FormControl>\r\n                        <FormControlLabel\r\n                            control={\r\n                                <Switch\r\n                                    checked={setting.isRandom}\r\n                                    onChange={handleIsRandomChange}\r\n                                    name=\"checkedB\"\r\n                                    color=\"primary\"\r\n                                />\r\n                            }\r\n                            label=\"隨機\"\r\n                        />\r\n                    </FormControl>\r\n                    {\r\n                        isHost && !setting.isRandom ?\r\n                            <TextField\r\n                                label=\"普通人\"\r\n                                fullWidth\r\n                                value={correct}\r\n                                onChange={onCorrectChange}\r\n                            /> : null\r\n                    }\r\n                    {\r\n                        isHost && !setting.isRandom ?\r\n                            <TextField\r\n                                fullWidth\r\n                                label=\"臥底\"\r\n                                value={wrong}\r\n                                onChange={onWrongChange}\r\n                            /> : null\r\n                    }\r\n                </div>\r\n                <div className=\"setting-actions\">\r\n                    <Button onClick={onQuit}>離開</Button>\r\n                    {\r\n                        isHost ?\r\n                            <Button onClick={onStart}>開始</Button> :\r\n                            null\r\n                    }\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n});\r\n\r\nexport default SettingComponent;","import { observer } from 'mobx-react';\r\nimport React, { useEffect } from 'react';\r\nimport { Card, CardContent, Typography } from '@material-ui/core';\r\nimport './styles.css';\r\nimport { useStores } from '../../stores';\r\nimport { useHistory } from 'react-router';\r\nimport { removeWaitingRoomListener, initWaitingRoomListener } from '../../actions/game';\r\nimport PeopleListComponent from './peopleList';\r\nimport SettingComponent from './setting';\r\n\r\nconst SpyImg = require('../../assets/images/spy.png').default;\r\n\r\nconst WaitingRoomPage = observer(() => {\r\n    const stores = useStores();\r\n    const history = useHistory();\r\n\r\n    const { user } = stores.appStore;\r\n    const { room, refresh } = stores.gameStore;\r\n    const { host, id } = room;\r\n\r\n    useEffect(() => {\r\n        initWaitingRoomListener({ stores, history });\r\n\r\n        return () => {\r\n            removeWaitingRoomListener({ stores })\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"page\">\r\n            {refresh}\r\n            <Card className=\"card\">\r\n                <CardContent>\r\n                    <div className=\"toolbar\">\r\n                        <Typography className=\"title\" gutterBottom variant=\"h5\" component=\"h2\">遊玩房間 #{id}</Typography>\r\n                        <img src={SpyImg} className=\"logo\" />\r\n                    </div>\r\n                    <div className=\"waiting-content\">\r\n                        <PeopleListComponent />\r\n                        <SettingComponent />\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n        </div>\r\n    )\r\n});\r\n\r\nexport default WaitingRoomPage;","import React from 'react';\r\nimport { Switch, Route } from 'react-router';\r\nimport GamingRoomPage from '../pages/gamingRoom';\r\nimport HomePage from '../pages/home';\r\nimport LoginPage from '../pages/login';\r\nimport SplashPage from '../pages/splash';\r\nimport WaitingRoomPage from '../pages/watingRoom';\r\n\r\nfunction Router() {\r\n    return (\r\n        <Switch>\r\n            <Route exact path=\"/\">\r\n                <SplashPage />\r\n            </Route>\r\n            <Route path=\"/login\">\r\n                <LoginPage />\r\n            </Route>\r\n            <Route path=\"/home\">\r\n                <HomePage />\r\n            </Route>\r\n            <Route path=\"/waiting-room\">\r\n                <WaitingRoomPage />\r\n            </Route>\r\n            <Route path=\"/gaming-room\">\r\n                <GamingRoomPage />\r\n            </Route>\r\n        </Switch>\r\n    )\r\n}\r\n\r\nexport default Router;","import React from 'react';\r\nimport { MemoryRouter } from 'react-router';\r\nimport Router from './routers';\r\n\r\nfunction App() {\r\n  return (\r\n    <MemoryRouter>\r\n      <Router />\r\n    </MemoryRouter>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","export default \"data:image/png;base64,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\""],"sourceRoot":""}